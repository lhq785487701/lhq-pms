<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="renderer" content="webkit|ie-comp|ie-stand">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<meta name="viewport"
	content="width=device-width, initial-scale=1, minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="description" content="pms">
<meta name="keywords" content="PMS">
<title>公共上传文件页面</title>
<link rel="stylesheet" href="../../../css/iview.css">
<link rel="stylesheet"
	href="../../../js/jquery/layer/theme/default/layer.css">
<link rel="stylesheet" href="../../../css/sdp-ui.css" />
<link rel="stylesheet"
	href="../../../css/fonts/iconic/material-design-iconic-font.min.css" />
<link rel="stylesheet"
	href="../../../css/fonts/awesome/font-awesome.min.css" />
</head>
<body>
	<div class="sdp-main-container" id="mainContainer" v-cloak>
		<row :gutter="5">
		<i-col :span="25"> 
			<i-form inline :model="params" :label-width="80" style="display: inline-flex;"> 
				<form-item label="文件名:" style="width:220px"> 
					<i-input v-model="params.file_name" placeholder="输入文件名"></i-input>
				</form-item> 
				<form-item >
					<i-button @click="queryDatas" icon="search"> 查询</i-button> 
				</form-item>
				<from-item>
					<upload ref="fileUpload" :action="impUrl" :data="impData" 
						:format="uploadFormat" :accept="acceptFormat" :on-success="uploadSuccess"
						:on-error="uploadError" :before-upload="beforeUpload" style="width: 100px;"
						:show-upload-list = "false" >
						<i-button icon="ios-cloud-upload" v-if = "isInArray('U')"> 上传文件</i-button> 
					</upload>
				</from-item>
				<from-item>
					<upload ref="fileUpdate" :action="impUpdUrl" :data="impUpdData" 
						:format="uploadFormat" :accept="acceptFormat" :on-success="uploadSuccess"
						:on-error="uploadError" :before-upload="beforeUpdate" style="width: 100px;"
						:show-upload-list = "false" >
						<i-button icon="ios-cloud-upload" v-if = "isInArray('R')"> 更新文件</i-button> 
					</upload>
				</from-item>
				<from-item>
					<i-button @click="downloadFile" icon="android-download" v-if = "isInArray('L')"> 下载文件</i-button> 
				</from-item>
				<from-item>
					<i-button @click="delFile" icon="minus-circled" v-if = "isInArray('D')"> 删除文件</i-button> 
				</from-item>
			</i-form>
			<i-table :data="datas" :columns="columns" height="220" ref="dataFilesGrid"   @on-row-click="selectOne" border></i-table> 
			<page @on-page-size-change="handleSizeChange" :page-size="page!=null?page.getPageRowCount():20"
			@on-change="handleCurrentChange" :current="page!=null?page.getPageNumber():1" 
			size="small" :total="page!=null?page.totalCount:0"></page> 
		</i-col> 
		</row>
		<row type="flex" justify="end"><i-col :span="8"> 
			<i-button icon="android-cancel"  @click="closeWindow">返回</i-button>
		</i-col></row>
		
		
	</div>
</body>
<script src="../../../js/jquery/IE.plugin.js"></script>
<!--[if lte IE 9]>	
	<script src="../../../js/ieBetter-min.js"></script>
	<script src="../../../js/jquery/respond.js"></script>
	<script src="../../../js/jquery/html5shiv.js"></script>	
<![endif]-->

<!-- 引入 jquery -->
<script src="../../../js/jquery/jquery.min.js"></script>
<script src="../../../js/jquery/jquery-migrate.min.js"></script>
<script src="../../../js/jquery/layer/layer.js"></script>
<!-- 引入 Vue -->
<script src="../../../js/vue/vue.min.js"></script>
<!-- 引入组件库 -->
<script src="../../../js/vue/ui/iview.min.js"></script>

<script src="../../../js/sdp/fileDown.js"></script>
<script src="../../../js/sdp/SDPUrl.js"></script>
<script src="../../../js/sdp/SDPContext.js"></script>
<script src="../../../js/sdp/SDPLayer.js"></script>
<script src="../../../js/sdp/Page.js"></script>
<script src="../../../js/sdp/Row.js"></script>
<script src="../../../js/sdp/RowSet.js"></script>
<script src="../../../js/sdp/DataStore.js"></script>
<script src="../../../js/sdp/SDPDic.js"></script>
<script type="text/javascript" src="commonUpload.js"></script>
</html>